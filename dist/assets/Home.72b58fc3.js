import{e,o as l,b as a,f as n,i as t,j as o,p as c,k as s,r as p,F as u,l as d,m as r,v as i,n as v,w as _}from"./vendor.8ec452d0.js";const k={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},h=n("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1);var f={components:{Close:e({name:"Close",render:function(e,n){return l(),a("svg",k,[h])}})},setup(){const e=o(),l=JSON.parse(localStorage.getItem("plan_list"))||[],a=t(l);let n=t("");const c=()=>{a.value.unshift({content:n.value,disabled:!0,checked:!1}),localStorage.setItem("plan_list",JSON.stringify(a.value)),n.value=""};return{plan_list:a,content:n,addplan:c,edit_plan:l=>{a.value[l].disabled=!1,setTimeout((()=>{(null==e?void 0:e.refs["input_"+l]).focus()}))},save_plan:e=>{a.value[e].disabled=!0,setTimeout((()=>{localStorage.setItem("plan_list",JSON.stringify(a.value))}))},delete_plan:e=>{a.value.splice(e,1),localStorage.setItem("plan_list",JSON.stringify(a.value))},keyup_seach:e=>{"Enter"===e.code&&c(),"Escape"===e.code&&(n.value="")},keyup_plan:(e,l)=>{"Enter"===e.code&&e.target.blur(),"Escape"===e.code&&(a.value[l].content="")}}}};const y=_();c("data-v-0e644396");const g=n("div",{class:"header"},"ToDoList",-1);s();const b=y(((e,t,o,c,s,_)=>{const k=p("n-input"),h=p("n-gi"),f=p("n-grid"),b=p("n-checkbox"),m=p("Close"),w=p("n-icon"),x=p("n-card");return l(),a(x,{bordered:!1},{header:y((()=>[g])),default:y((()=>[n(f,{cols:1},{default:y((()=>[n(h,null,{default:y((()=>[n(k,{value:c.content,"onUpdate:value":t[1]||(t[1]=e=>c.content=e),onKeyup:t[2]||(t[2]=e=>c.keyup_seach(e)),type:"input",clearable:"",placeholder:"今天需要做什么"},null,8,["value"])])),_:1})])),_:1}),n(f,{class:"mt-2","y-gap":3,cols:1},{default:y((()=>[(l(!0),a(u,null,d(c.plan_list,((e,o)=>(l(),a(h,{key:"plan_"+o},{default:y((()=>[r(n(k,{value:e.content,"onUpdate:value":l=>e.content=l,onDblclick:e=>c.edit_plan(o),onKeyup:e=>c.edit_plan(o),placeholder:"计划"+(o+1),readonly:"",type:"text"},{prefix:y((()=>[n(b,{key:"check_"+o,onDblclick:t[3]||(t[3]=v((()=>{}),["stop"])),"onUpdate:checked":[e=>c.save_plan(o),l=>e.checked=l],checked:e.checked},null,8,["onUpdate:checked","checked"])])),suffix:y((()=>[n(w,{onClick:e=>c.delete_plan(o),onDblclick:t[4]||(t[4]=v((()=>{}),["stop"])),style:{cursor:"pointer"}},{default:y((()=>[n(m)])),_:2},1032,["onClick"])])),_:2},1032,["value","onUpdate:value","onDblclick","onKeyup","placeholder"]),[[i,e.disabled]]),r(n(k,{value:e.content,"onUpdate:value":l=>e.content=l,ref:"input_"+o,type:"input",onKeyup:e=>c.keyup_plan(e,o),onBlur:e=>c.save_plan(o),clearable:"",placeholder:"计划"+(o+1)},null,8,["value","onUpdate:value","onKeyup","onBlur","placeholder"]),[[i,!e.disabled]])])),_:2},1024)))),128))])),_:1})])),_:1})}));f.render=b,f.__scopeId="data-v-0e644396";export default f;
