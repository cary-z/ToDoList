import{e,o as l,b as a,f as t,i as n,j as o,p as s,k as c,r as u,F as d,l as p,m as i,v as r,n as v,w as _}from"./vendor.8ec452d0.js";const f={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},k=t("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1);var h={components:{Close:e({name:"Close",render:function(e,t){return l(),a("svg",f,[k])}})},setup(){const e=o(),l=JSON.parse(localStorage.getItem("plan_list"))||[],a=n(l);let t=n("");const s=()=>{a.value.unshift({content:t.value,disabled:!0,checked:!1}),localStorage.setItem("plan_list",JSON.stringify(a.value)),t.value=""},c=e=>{a.value.splice(e,1),localStorage.setItem("plan_list",JSON.stringify(a.value))};return{plan_list:a,content:t,addplan:s,edit_plan:l=>{a.value[l].disabled=!1,setTimeout((()=>{(null==e?void 0:e.refs["input_"+l]).focus()}))},save_plan:e=>{a.value[e]&&(a.value[e].disabled=!0),setTimeout((()=>{localStorage.setItem("plan_list",JSON.stringify(a.value))}))},delete_plan:c,keyup_seach:e=>{"Enter"===e.code&&s(),"Escape"===e.code&&(t.value="")},keyup_plan:(l,t)=>{if("Enter"===l.code&&l.target.blur(),"Escape"===l.code)if(a.value[t].content)a.value[t].content="";else{c(t);const l=t<a.value.length?t:t-1;l>=0?(a.value[l].disabled=!1,setTimeout((()=>{(null==e?void 0:e.refs["input_"+l]).focus()}))):(null==e?void 0:e.refs.todo).focus()}}}}};const y=_();s("data-v-45e13176");const g=t("div",{class:"header"},"ToDoList",-1);c();const b=y(((e,n,o,s,c,_)=>{const f=u("n-input"),k=u("n-gi"),h=u("n-grid"),b=u("n-checkbox"),m=u("Close"),w=u("n-icon"),x=u("n-card");return l(),a(x,{bordered:!1},{header:y((()=>[g])),default:y((()=>[t(h,{cols:1},{default:y((()=>[t(k,null,{default:y((()=>[t(f,{value:s.content,"onUpdate:value":n[1]||(n[1]=e=>s.content=e),onKeyup:n[2]||(n[2]=e=>s.keyup_seach(e)),ref:"todo",type:"input",clearable:"",placeholder:"今天需要做什么"},null,8,["value"])])),_:1})])),_:1}),t(h,{class:"mt-2","y-gap":3,cols:1},{default:y((()=>[(l(!0),a(d,null,p(s.plan_list,((e,o)=>(l(),a(k,{key:"plan_"+o},{default:y((()=>[i(t(f,{value:e.content,"onUpdate:value":l=>e.content=l,onDblclick:e=>s.edit_plan(o),onKeyup:e=>s.edit_plan(o),placeholder:"计划"+(o+1),readonly:"",type:"text"},{prefix:y((()=>[t(b,{key:"check_"+o,onDblclick:n[3]||(n[3]=v((()=>{}),["stop"])),"onUpdate:checked":[e=>s.save_plan(o),l=>e.checked=l],checked:e.checked},null,8,["onUpdate:checked","checked"])])),suffix:y((()=>[t(w,{onClick:e=>s.delete_plan(o),onDblclick:n[4]||(n[4]=v((()=>{}),["stop"])),style:{cursor:"pointer"}},{default:y((()=>[t(m)])),_:2},1032,["onClick"])])),_:2},1032,["value","onUpdate:value","onDblclick","onKeyup","placeholder"]),[[r,e.disabled]]),i(t(f,{value:e.content,"onUpdate:value":l=>e.content=l,key:"input_"+o,ref:"input_"+o,type:"input",onKeyup:e=>s.keyup_plan(e,o),onBlur:e=>s.save_plan(o),clearable:"",placeholder:"计划"+(o+1)},null,8,["value","onUpdate:value","onKeyup","onBlur","placeholder"]),[[r,!e.disabled]])])),_:2},1024)))),128))])),_:1})])),_:1})}));h.render=b,h.__scopeId="data-v-45e13176";export default h;
